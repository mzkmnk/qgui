<div class="h-screen bg-zinc-950 flex overflow-hidden">
  <!-- サイドバー -->
  <div class="transition-all duration-300" 
       [class.w-64]="!isSidebarCollapsed()" 
       [class.w-0]="isSidebarCollapsed()"
       [class.overflow-hidden]="isSidebarCollapsed()">
    <app-sidebar 
      (newChatCreated)="onNewChat()"
      (sessionSelected)="onSessionSelected($event)">
    </app-sidebar>
  </div>
  
  <!-- メインコンテンツ -->
  <div class="flex-1 flex flex-col">
    <!-- ヘッダー -->
    <header class="h-16 bg-zinc-900/95 backdrop-blur-xl border-b border-white/10 flex items-center px-4">
      <button 
        (click)="toggleSidebar()"
        class="p-2 hover:bg-zinc-800 rounded-lg transition-colors mr-4">
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      
      <div class="flex items-center gap-3">
        <span class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
        </span>
        <h1 class="text-lg font-semibold text-gray-100">{{ title }}</h1>
      </div>
      
      <div class="flex-1"></div>
      
      <div class="flex items-center gap-2">
        <button 
          (click)="openCommandPalette()"
          class="px-3 py-1.5 text-xs text-gray-400 bg-zinc-800 rounded-lg hover:bg-zinc-700 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <span>Cmd+K</span>
        </button>
      </div>
    </header>
    
    <!-- チャットエリア -->
    <div class="flex-1 p-6 overflow-hidden flex flex-col">
      <div class="flex-1 bg-gradient-to-br from-zinc-900/80 to-zinc-800/80 backdrop-blur-xl rounded-xl shadow-2xl border border-white/10 relative flex flex-col overflow-hidden">
        <!-- グラスモーフィズム装飾 -->
        <div class="absolute inset-0 bg-gradient-to-tr from-orange-500/5 to-transparent pointer-events-none rounded-xl"></div>
        <app-chat class="relative z-10 flex-1 flex flex-col overflow-hidden"></app-chat>
      </div>
    </div>
  </div>
</div>
<router-outlet></router-outlet>

<!-- コマンドパレット -->
<app-command-palette></app-command-palette>